{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./hero-form.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./hero-form.component.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { HeroesService } from '../../../core/services/heroes.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nlet HeroFormComponent = class HeroFormComponent {\n  fb;\n  heroesService;\n  route;\n  router;\n  heroForm;\n  editingId = null;\n  constructor(fb, heroesService, route, router) {\n    this.fb = fb;\n    this.heroesService = heroesService;\n    this.route = route;\n    this.router = router;\n  }\n  ngOnInit() {\n    this.heroForm = this.fb.group({\n      name: ['', Validators.required],\n      power: ['', Validators.required],\n      description: ['']\n    });\n    const idParam = this.route.snapshot.paramMap.get('id');\n    if (idParam) {\n      this.editingId = +idParam;\n      const hero = this.heroesService.getHeroById(this.editingId);\n      if (hero) {\n        this.heroForm.patchValue(hero);\n      }\n    }\n  }\n  saveHero() {\n    if (this.heroForm.valid) {\n      const {\n        name,\n        power,\n        description\n      } = this.heroForm.value;\n      if (this.editingId) {\n        this.heroesService.updateHero({\n          id: this.editingId,\n          name,\n          power,\n          description\n        });\n      } else {\n        this.heroesService.addHero({\n          name,\n          power,\n          description\n        });\n      }\n      this.router.navigate(['/heroes']);\n    }\n  }\n  static ctorParameters = () => [{\n    type: FormBuilder\n  }, {\n    type: HeroesService\n  }, {\n    type: ActivatedRoute\n  }, {\n    type: Router\n  }];\n};\nHeroFormComponent = __decorate([Component({\n  selector: 'app-hero-form',\n  standalone: false,\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], HeroFormComponent);\nexport { HeroFormComponent };","map":{"version":3,"names":["Component","FormBuilder","Validators","HeroesService","ActivatedRoute","Router","HeroFormComponent","fb","heroesService","route","router","heroForm","editingId","constructor","ngOnInit","group","name","required","power","description","idParam","snapshot","paramMap","get","hero","getHeroById","patchValue","saveHero","valid","value","updateHero","id","addHero","navigate","__decorate","selector","standalone","template","__NG_CLI_RESOURCE__0"],"sources":["/Users/naranjax/app-heroes/src/app/heroes/components/hero-form/hero-form.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { HeroesService } from '../../../core/services/heroes.service';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-hero-form',\n  standalone: false,\n  templateUrl: './hero-form.component.html',\n  styleUrls: ['./hero-form.component.scss']\n})\nexport class HeroFormComponent implements OnInit {\n  heroForm!: FormGroup;\n  editingId: number | null = null;\n\n  constructor(\n    private fb: FormBuilder,\n    private heroesService: HeroesService,\n    private route: ActivatedRoute,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.heroForm = this.fb.group({\n      name: ['', Validators.required],\n      power: ['', Validators.required],\n      description: ['']\n    });\n\n    const idParam = this.route.snapshot.paramMap.get('id');\n    if (idParam) {\n      this.editingId = +idParam;\n      const hero = this.heroesService.getHeroById(this.editingId);\n      if (hero) {\n        this.heroForm.patchValue(hero);\n      }\n    }\n  }\n\n  saveHero() {\n    if (this.heroForm.valid) {\n      const { name, power, description } = this.heroForm.value;\n      if (this.editingId) {\n        this.heroesService.updateHero({ id: this.editingId, name, power, description });\n      } else {\n        this.heroesService.addHero({ name, power, description });\n      }\n      this.router.navigate(['/heroes']);\n    }\n  }\n}\n"],"mappings":";;;AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,WAAW,EAAaC,UAAU,QAAQ,gBAAgB;AACnE,SAASC,aAAa,QAAQ,uCAAuC;AACrE,SAASC,cAAc,EAAEC,MAAM,QAAQ,iBAAiB;AAQjD,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAKlBC,EAAA;EACAC,aAAA;EACAC,KAAA;EACAC,MAAA;EAPVC,QAAQ;EACRC,SAAS,GAAkB,IAAI;EAE/BC,YACUN,EAAe,EACfC,aAA4B,EAC5BC,KAAqB,EACrBC,MAAc;IAHd,KAAAH,EAAE,GAAFA,EAAE;IACF,KAAAC,aAAa,GAAbA,aAAa;IACb,KAAAC,KAAK,GAALA,KAAK;IACL,KAAAC,MAAM,GAANA,MAAM;EACb;EAEHI,QAAQA,CAAA;IACN,IAAI,CAACH,QAAQ,GAAG,IAAI,CAACJ,EAAE,CAACQ,KAAK,CAAC;MAC5BC,IAAI,EAAE,CAAC,EAAE,EAAEd,UAAU,CAACe,QAAQ,CAAC;MAC/BC,KAAK,EAAE,CAAC,EAAE,EAAEhB,UAAU,CAACe,QAAQ,CAAC;MAChCE,WAAW,EAAE,CAAC,EAAE;KACjB,CAAC;IAEF,MAAMC,OAAO,GAAG,IAAI,CAACX,KAAK,CAACY,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IACtD,IAAIH,OAAO,EAAE;MACX,IAAI,CAACR,SAAS,GAAG,CAACQ,OAAO;MACzB,MAAMI,IAAI,GAAG,IAAI,CAAChB,aAAa,CAACiB,WAAW,CAAC,IAAI,CAACb,SAAS,CAAC;MAC3D,IAAIY,IAAI,EAAE;QACR,IAAI,CAACb,QAAQ,CAACe,UAAU,CAACF,IAAI,CAAC;MAChC;IACF;EACF;EAEAG,QAAQA,CAAA;IACN,IAAI,IAAI,CAAChB,QAAQ,CAACiB,KAAK,EAAE;MACvB,MAAM;QAAEZ,IAAI;QAAEE,KAAK;QAAEC;MAAW,CAAE,GAAG,IAAI,CAACR,QAAQ,CAACkB,KAAK;MACxD,IAAI,IAAI,CAACjB,SAAS,EAAE;QAClB,IAAI,CAACJ,aAAa,CAACsB,UAAU,CAAC;UAAEC,EAAE,EAAE,IAAI,CAACnB,SAAS;UAAEI,IAAI;UAAEE,KAAK;UAAEC;QAAW,CAAE,CAAC;MACjF,CAAC,MAAM;QACL,IAAI,CAACX,aAAa,CAACwB,OAAO,CAAC;UAAEhB,IAAI;UAAEE,KAAK;UAAEC;QAAW,CAAE,CAAC;MAC1D;MACA,IAAI,CAACT,MAAM,CAACuB,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC;IACnC;EACF;;;;;;;;;;;AAtCW3B,iBAAiB,GAAA4B,UAAA,EAN7BlC,SAAS,CAAC;EACTmC,QAAQ,EAAE,eAAe;EACzBC,UAAU,EAAE,KAAK;EACjBC,QAAA,EAAAC,oBAAyC;;CAE1C,CAAC,C,EACWhC,iBAAiB,CAuC7B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}